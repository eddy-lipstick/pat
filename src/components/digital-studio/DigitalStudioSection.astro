---
// src/components/digital-studio/DigitalStudioSection.astro
import SectionHeader from '@/components/SectionHeader.astro';
import DigitalStudioGrid from '@/components/DigitalStudioGrid';
import { getFeaturedDigitalStudioProducts } from '@/lib/digital-studio';
import { landingTranslations } from '@/i18n/translations/landing';

// Props expected by this component
interface Props {
  lang: 'en' | 'nl';
}

const { lang } = Astro.props;
const t = landingTranslations[lang]; // Get translations based on the passed language

// Fetch featured digital studio products for the current language
const featuredDigitalStudioProducts = await getFeaturedDigitalStudioProducts(lang);
---

{
  featuredDigitalStudioProducts.length > 0 && (
    <div class="container mx-auto px-4 py-12 mb-20">
      <SectionHeader eyebrow={t.digitalStudio.eyebrow} title={t.digitalStudio.title} />
      <div class="mt-12">
        <DigitalStudioGrid products={featuredDigitalStudioProducts} client:load lang={lang} />
      </div>
    </div>
  )
}
