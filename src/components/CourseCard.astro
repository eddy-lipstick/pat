---
// src/components/CourseCard.astro
import type { CollectionEntry } from 'astro:content';
import { Badge } from '@/components/ui/badge';

interface Props {
  course: CollectionEntry<'courses'>;
}

const { course } = Astro.props;
const { title, description, duration, level, lessonsCount, coverImage } = course.data;
---

<a href={`/courses/${course.slug}`} class="group">
  <article class="bg-card rounded-lg overflow-hidden shadow-lg transition-all hover:shadow-xl">
    <div class="aspect-video relative overflow-hidden">
      <img
        src={coverImage}
        alt={title}
        class="object-cover w-full h-full group-hover:scale-105 transition-transform duration-300"
      />
      <Badge variant="secondary" class="absolute top-4 right-4">
        {level}
      </Badge>
    </div>

    <div class="p-6">
      <h3 class="text-xl font-semibold mb-2 group-hover:text-primary transition-colors">
        {title}
      </h3>

      <p class="text-muted-foreground mb-4 line-clamp-2">
        {description}
      </p>

      <div class="flex items-center justify-between text-sm text-muted-foreground">
        <span class="flex items-center gap-1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M12 6v6l4 2"></path>
          </svg>
          {duration}
        </span>

        <span class="flex items-center gap-1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-4 w-4"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"
            ></path>
          </svg>
          {lessonsCount} lessons
        </span>
      </div>
    </div>
  </article>
</a>
