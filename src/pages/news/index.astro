---
import { getCollection } from 'astro:content';
import BaseLayout from '@/layouts/BaseLayout.astro';
import Hero from '@/components/Hero.astro';
import NewsList from '@/components/NewsList';
import Breadcrumb from '@/components/Breadcrumb';

const newsItems = await getCollection('news');
const sortedNews = newsItems.sort(
  (a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime()
);
// Breadcrumb items for news story
const breadcrumbItems = [
  { label: 'Over ons', href: '/about' },
  { label: 'Nieuws', href: '/news' },
];
---

<BaseLayout title="News & Updates | Legal Design Agency">
  <Breadcrumb items={breadcrumbItems} client:load />

  <Hero
    variant="small"
    subtitle="Nieuws"
    title="Het laatste nieuws van Patroon"
    description="Blijf op de hoogte van onze projecten, evenementen en ontwikkelingen."
  />

  <div class="mx-auto">
    <NewsList client:load newsItems={sortedNews} />
  </div>
</BaseLayout>
