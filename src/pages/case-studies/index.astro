---
// src/pages/case-studies/index.astro
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import CaseStudyCard from '@/components/CaseStudyCard';
import { Card } from "@/components/ui/card";
import LargeCaseStudyGrid from '@/components/LargeCaseStudyGrid';


const allCaseStudies = await getCollection('case-studies');
const featuredCaseStudy = allCaseStudies.find(study => study.data.featured);
// Get all case studies and sort by date
const caseStudies = await getCollection('case-studies');
const sortedCaseStudies = caseStudies.sort((a, b) => {
  return new Date(b.data.metadata.date) - new Date(a.data.metadata.date);
});

// Get unique services for filtering
const allServices = [...new Set(
  caseStudies.flatMap(study => study.data.metadata.services)
)].sort();

// Get unique tags for filtering
const allTags = [...new Set(
  caseStudies.flatMap(study => study.data.tags)
)].sort();
---

<BaseLayout title="Case Studies">
  <div class="min-h-screen">
    <!-- Hero section -->
    <div class="relative py-24 mb-12">
      <div class="max-w-6xl mx-auto px-6">
        <div class="max-w-2xl">
          <h1 class="text-4xl md:text-5xl font-bold mb-6">
           Bekijk onze projecten
          </h1>
     
        </div>
      </div>
    </div>

    <div class="container mx-auto px-4 py-12">
      <LargeCaseStudyGrid studies={allCaseStudies} client:load />
    </div>

  
  </div>
</BaseLayout>
